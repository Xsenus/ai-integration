# === Application ===
LOG_LEVEL=info
ECHO_SQL=false

# === Databases (SQLAlchemy async DSN: postgresql+asyncpg://user:pass@host:port/dbname) ===
POSTGRES_DATABASE_URL=postgresql+asyncpg://USER:PASS@HOST:PORT/postgres
BITRIX_DATABASE_URL=postgresql+asyncpg://USER:PASS@HOST:PORT/bitrix_data
PARSING_DATABASE_URL=postgresql+asyncpg://USER:PASS@HOST:PORT/parsing_data
PP719_DATABASE_URL=postgresql+asyncpg://USER:PASS@HOST:PORT/pp719

# === DaData ===
DADATA_API_KEY=changeme
DADATA_SECRET_KEY=changeme

# === Scraper / парсинг сайтов ===
SCRAPERAPI_KEY=changeme
PARSE_MAX_CHUNK_SIZE=100000
PARSE_MIN_HTML_LEN=100

# === Внешний AI-анализ (используется в /v1/analyze-json) ===
# AI_ANALYZE_BASE задаёт базовый URL внешнего сервиса (альтернатива — ANALYZE_BASE)
AI_ANALYZE_BASE=http://37.221.125.221:8123
# Таймаут ожидания ответа сервиса (сек). Можно использовать ANALYZE_TIMEOUT
AI_ANALYZE_TIMEOUT=60

# === Bitrix24 ===
# Базовый URL вебхука вида https://example.bitrix24.ru/rest/ID/TOKEN/
B24_BASE_URL=https://example.bitrix24.ru/rest/ID/TOKEN/
B24_PAGE_LIMIT=50
B24_PAGE_SIZE=200

# Batch-настройки HTTP-клиента
B24_BATCH_ENABLED=true
B24_BATCH_SIZE=25
B24_BATCH_PAUSE_MS=500

# Фоновая синхронизация компаний Bitrix24 → bitrix_data
B24_SYNC_ENABLED=false
B24_SYNC_INTERVAL=600
B24_SYNC_COMMIT_BATCH=200
# 0 или закомментированная строка = без ограничения
# B24_SYNC_MAX_ITEMS=0
B24_SYNC_COMMIT_PAUSE_MS=0

# Детальное логирование Bitrix24-клиента
B24_LOG_VERBOSE=false
B24_LOG_BODIES=false
B24_LOG_BODY_CHARS=2000

# === CORS (optional) ===
# CORS_ALLOW_ORIGINS=https://your-app.example,*
# CORS_ALLOW_METHODS=GET,POST,OPTIONS
# CORS_ALLOW_HEADERS=Authorization,Content-Type
# CORS_ALLOW_CREDENTIALS=false
